{"version":3,"sources":["country.js"],"names":["arrayLike","length","createCountryLists","template","element","index","parseInt","countries","slice","call","htmlStr","forEach","ul","document","querySelector","innerHTML","showBtn","$","popBox","mask","closeBtn","init","s","addMaskTransition","onclick","show","hide","translateY","style","display","opacity","addEventListener","getComputedStyle","getPropertyValue","obj","distance","CSS","supports","transform","addScroll","el","options","wrapper","scroller","children","scrollerStyle","bounce","bounceTime","bounceEasing","quadraticEasing","momentum","startY","y","undefined","i","useGpuOrNot","refresh","getBoundingClientRect","wrapperHeight","clientHeight","scrollerHeight","height","maxScrollY","start","bind","move","end","e","transitionDuration","beyondBoundary","isInTransition","pointY","touches","clientY","startTime","getTime","newY","split","deltaY","timestamp","Math","round","changedTouches","duration","time","momentumY","deceleration","destination","transitionTimingFunction","quadratic","console","log","Date","now","current","lowerMargin","wrapperSize","speed","abs"],"mappings":"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","sourcesContent":["/**\r\n * choose country\r\n */\r\n\r\nconst arrayLike = {\r\n    0: \"English (United States)\",\r\n    1: \"English (United Kingdom)\",\r\n    2: \"繁體中文 (香港)\",\r\n    3: \"한국어\",\r\n    4: \"日本語\",\r\n    5: \"English (Singapore)\",\r\n    6: \"Français\",\r\n    7: \"Deutsch\",\r\n    8: \"Español\",\r\n    9: \"Italiano\",\r\n    10: \"Русский\",\r\n    11: \"English (Malaysia)\",\r\n    12: \"ภาษาไทย\",\r\n    13: \"Bahasa Indonesia\",\r\n    14: \"Tiếng Viê\",\r\n    15: \"Nederlands\",\r\n    16: \"Polski\",\r\n    17: \"Ελληνικά\",\r\n    18: \"Türkçe\",\r\n    19: \"Português (Brasil)\",\r\n    length: 20\r\n};\r\n\r\n(function createCountryLists(arrayLike) {\r\n    let template = (element, index) =>\r\n        `<li class=\"country-li\">\r\n                <i class=\"country-icon country-icon-${parseInt(index)+1}\"></i>\r\n                <span class=\"country-name\">${element}</span>\r\n            </li>`\r\n\r\n    const countries = [].slice.call(arrayLike)\r\n    let htmlStr = \"\"\r\n    countries.forEach((element, index) => {\r\n        htmlStr += template(element, index)\r\n    });\r\n    let ul = document.querySelector(\"#choose-country .country-ul\")\r\n    ul.innerHTML = htmlStr\r\n\r\n}(arrayLike))\r\n\r\n\r\n\r\nnew class ShowOrHideCountryLists {\r\n    constructor() {\r\n        this.showBtn = this.$(\"#footer .pop-country\")\r\n        this.popBox = this.$(\"#choose-country\")\r\n        this.mask = this.$(\"#mask\")\r\n        this.closeBtn = this.$(\"#choose-country .close-btn\")\r\n        this.ul = this.$(\"#choose-country .country-ul\")\r\n        this.init()\r\n    }\r\n    $(s) {\r\n        return document.querySelector(s)\r\n    }\r\n    init() {\r\n        this.addMaskTransition()\r\n        this.showBtn.onclick = () => {\r\n            this.show()\r\n        }\r\n        this.closeBtn.onclick = () => {\r\n            this.hide()\r\n        }\r\n        this.mask.onclick = () => {\r\n            this.hide()\r\n        }\r\n    }\r\n    show() {\r\n        this.translateY(this.popBox, 0)\r\n        this.mask.style.display = \"block\"\r\n        this.mask.style.opacity = \"0.5\"\r\n        // document.body.addEventListener(\"touchmove\",this.moveEventFunc.bind(this))\r\n    }\r\n    hide() {\r\n        this.translateY(this.popBox, \"100%\")\r\n        this.mask.style.opacity = \"0\"\r\n        // document.body.removeEventListener(\"touchmove\",this.moveEventFunc.bind(this))\r\n    }\r\n    addMaskTransition() {\r\n        this.mask.addEventListener(\"transitionend\", () => {\r\n            let opacity = getComputedStyle(this.mask).getPropertyValue(\"opacity\")\r\n            if (opacity == 0) {\r\n                this.mask.style.display = \"none\"\r\n            }\r\n        })\r\n    }\r\n    translateY(obj, distance) {\r\n        if (CSS && CSS.supports(\"transform-style\", \"preserve-3d\")) {\r\n            obj.style.transform = `translate3d(0,${distance},0)`\r\n        } else {\r\n            obj.style.transform = `translateY(${distance})`\r\n        }\r\n    }\r\n}()\r\n\r\n\r\n\r\nclass addScroll {\r\n    constructor(el, options) {\r\n        this.wrapper = typeof el == 'string' ? document.querySelector(el) : el;\r\n        this.scroller = this.wrapper.children[0];\r\n        // cache style for better performance\r\n        this.scrollerStyle = this.scroller.style;\r\n\r\n        // this.enableScroll = false\r\n        this.options = {\r\n            bounce: true,\r\n            bounceTime: 600,\r\n            bounceEasing: \"cubic-bezier(0.1, 0.57, 0.1, 1)\",\r\n            quadraticEasing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n            momentum: true\r\n        }\r\n        this.startY = 0\r\n        this.y = 0\r\n        if (options !== undefined) {\r\n            for (var i in options) {\r\n                this.options[i] = options[i];\r\n            }\r\n        }\r\n        this.translateY = this.useGpuOrNot()\r\n        this.refresh()\r\n        this.init()\r\n    }\r\n    resize() {}\r\n    refresh() {\r\n        // Force reflow\r\n        this.wrapper.getBoundingClientRect()\r\n\r\n        this.wrapperHeight = this.wrapper.clientHeight;\r\n        this.scrollerHeight = this.scroller.getBoundingClientRect().height\r\n        this.maxScrollY = this.wrapperHeight - this.scrollerHeight;\r\n\r\n    }\r\n    init() {\r\n        this.scroller.addEventListener(\"touchstart\", this.start.bind(this))\r\n        this.scroller.addEventListener(\"touchmove\", this.move.bind(this))\r\n        this.scroller.addEventListener(\"touchend\", this.end.bind(this))\r\n        this.scroller.addEventListener(\"transitionend\", function (e) {\r\n            this.scrollerStyle.transitionDuration = \"0s\"\r\n            if (!this.beyondBoundary(this.options.bounceTime)) {\r\n                this.isInTransition = false\r\n            }\r\n        }.bind(this))\r\n\r\n        //绑定 resize事件\r\n\r\n    }\r\n    start(e) {\r\n        // this.enableScroll = true\r\n        this.startY = this.y;\r\n        this.pointY = e.touches[0].clientY;\r\n        this.startTime = this.getTime()\r\n        if (this.isInTransition) {\r\n            this.scrollerStyle.transitionDuration = \"0s\"\r\n            this.isInTransition = false\r\n            let newY = getComputedStyle(this.scroller).getPropertyValue(\"transform\").split(')')[0].split(', ')[5]\r\n            newY = parseInt(newY)\r\n            this.translateY(newY)\r\n            this.y = newY\r\n        }\r\n    }\r\n    move(e) {\r\n        let deltaY = e.touches[0].clientY - this.pointY,\r\n            newY = this.y + deltaY,\r\n            timestamp = this.getTime()\r\n        this.pointY = e.touches[0].clientY\r\n        if (newY > 0 || newY < this.maxScrollY) {\r\n            newY = this.options.bounce ? this.y + deltaY / 3 : newY > 0 ? 0 : this.maxScrollY;\r\n        }\r\n        newY = Math.round(newY)\r\n        this.translateY(newY)\r\n        this.y = newY\r\n\r\n        if (timestamp - this.startTime > 300) {\r\n            this.startTime = timestamp;\r\n            this.startY = newY\r\n        }\r\n    }\r\n    end(e) {\r\n        let deltaY = e.changedTouches[0].clientY - this.pointY,\r\n            newY = this.y + deltaY,\r\n            duration = this.getTime() - this.startTime\r\n        if (this.beyondBoundary(this.options.bounceTime)) {\r\n            return\r\n        }\r\n        this.translateY(newY)\r\n        this.y = newY\r\n\r\n        let time = 0\r\n        if (this.options.momentum) {\r\n            let momentumY = this.momentum(this.y, this.startY, duration, this.maxScrollY, this.options.bounce ? this.wrapperHeight : 0, this.options.deceleration)\r\n            newY = momentumY.destination\r\n            time = momentumY.duration\r\n            this.isInTransition = true;\r\n        }\r\n        if (newY != this.y) {\r\n            // change easing function when scroller goes out of the boundaries\r\n            if (newY > 0 || newY < this.maxScrollY) {\r\n                this.scrollerStyle.transitionTimingFunction = this.options.quadratic\r\n            }\r\n            this.scrollerStyle.transitionDuration = time + \"ms\"\r\n            this.translateY(newY)\r\n            this.y = newY\r\n            return;\r\n        }\r\n\r\n    }\r\n    beyondBoundary(time) {\r\n        let y = this.y;\r\n\r\n        time = time || 0;\r\n\r\n\r\n        if (this.y > 0) {\r\n            y = 0;\r\n        } else if (this.y < this.maxScrollY) {\r\n            y = this.maxScrollY;\r\n        }\r\n\r\n        if (y == this.y) {\r\n            return false;\r\n        }\r\n\r\n        // ???\r\n        this.isInTransition = time > 0;\r\n\r\n        this.scrollerStyle.transitionTimingFunction = this.options.bounceEasing\r\n        this.scrollerStyle.transitionDuration = time + \"ms\"\r\n\r\n        this.translateY(y)\r\n        this.y = y\r\n\r\n        return true;\r\n    }\r\n    useGpuOrNot() {\r\n        if (CSS && CSS.supports(\"transform-style\", \"preserve-3d\")) {\r\n            console.log(\"func\")\r\n            return distance => {\r\n                this.scroller.style.transform = `translate3d(0,${distance}px,0)`\r\n            }\r\n        } else {\r\n            return distance => {\r\n                this.scroller.style.transform = `translateY(${distance}px)`\r\n            }\r\n        }\r\n    }\r\n    getTime() {\r\n        return Date.now ? Date.now() : new Date().getTime()\r\n    };\r\n    momentum(current, start, time, lowerMargin, wrapperSize, deceleration) {\r\n\r\n        var distance = current - start,\r\n            speed = Math.abs(distance) / time,\r\n            destination,\r\n            duration;\r\n\r\n        deceleration = deceleration === undefined ? 0.0006 : deceleration;\r\n\r\n        destination = current + (speed * speed) / (2 * deceleration) * (distance < 0 ? -1 : 1);\r\n        duration = speed / deceleration;\r\n\r\n        if (destination < lowerMargin) {\r\n            destination = wrapperSize ? lowerMargin - (wrapperSize / 2.5 * (speed / 8)) : lowerMargin;\r\n            distance = Math.abs(destination - current);\r\n            duration = distance / speed;\r\n        } else if (destination > 0) {\r\n            destination = wrapperSize ? wrapperSize / 2.5 * (speed / 8) : 0;\r\n            distance = Math.abs(current) + destination;\r\n            duration = distance / speed;\r\n        }\r\n        return {\r\n            destination: Math.round(destination),\r\n            duration: duration\r\n        };\r\n    };\r\n\r\n}\r\n\r\nnew addScroll(\".country-container\")\r\n\r\n/*\r\nclass chooseCountry {\r\n    constructor(countries) {\r\n        this.countries = countries\r\n        this.showBtn = this.$(\"#footer .pop-country\")\r\n        this.popBox = this.$(\"#choose-country\")\r\n        this.mask = this.$(\"#mask\")\r\n        this.closeBtn = this.$(\"#choose-country .close-btn\")\r\n        this.ul = this.$(\"#choose-country .country-ul\")\r\n        this.ulHeight= null\r\n        this.ulContainer = this.$(\"#choose-country .country-container\")\r\n        this.ulContainerHeight = null\r\n        this.canBeScrolled= false\r\n        this.startPosY = null\r\n        this.transformY = 0\r\n        this.beginTime = null\r\n    }\r\n    init() {\r\n\r\n        this.createList()\r\n        this.addMaskTransition()\r\n        this.showBtn.onclick = () => {\r\n            this.show()\r\n        }\r\n        this.closeBtn.onclick=()=>{\r\n            this.hide()\r\n        }\r\n        this.mask.onclick =()=>{\r\n            this.hide()\r\n        }\r\n        this.ulContainer.addEventListener(\"touchstart\",e=>{\r\n            this.beginTime = Date.now()\r\n            this.startPosY = e.changedTouches[0].screenY\r\n            this.ul.style.transitionDuration = \"0s\"\r\n            this.ulHeight = this.ul.offsetHeight\r\n            this.ulContainerHeight = this.ulContainer.offsetHeight\r\n            this.canBeScrolled = true\r\n        })\r\n        document.body.addEventListener(\"touchend\",e=>{\r\n            if(this.canBeScrolled){\r\n                let d = e.changedTouches[0].screenY - this.startPosY\r\n\r\n                if(d + this.transformY >= 0){\r\n                    this.ul.style.transitionDuration = \"0.2s\"\r\n                    this.ul.offsetHeight\r\n                    this.translateY(this.ul,0)\r\n                    this.transformY = 0\r\n                } else if (-1 * (d + this.transformY) >= this.ulHeight-this.ulContainerHeight) {\r\n                    this.ul.style.transitionDuration = \"0.2s\"\r\n                    this.ul.offsetHeight\r\n                    let t = this.ulContainerHeight -this.ulHeight\r\n                    this.translateY(this.ul,t+\"px\")\r\n                    this.transform = t\r\n                }else{\r\n\r\nlet touchDuration = Date.now() - this.beginTime\r\nconsole.log('tD',touchDuration);\r\nlet velocity = d/touchDuration\r\nconsole.log('v',velocity);\r\n\r\n                    this.translateY(this.ul,d + this.transformY + \"px\")\r\n                    this.transformY += d\r\n                }\r\n                this.canBeScrolled = false\r\n            }\r\n        })\r\n\r\n        this.popBox.addEventListener(\"wheel\",e=>{e.preventDefault()})\r\n        this.mask.addEventListener(\"wheel\",e=>{e.preventDefault()})\r\n    }\r\n    moveEventFunc(e){\r\n            if(this.canBeScrolled){\r\n                console.log('inner');\r\n                let d  = e.changedTouches[0].screenY - this.startPosY\r\n                if (d + this.transformY >= 0){\r\n                    this.translateY(this.ul, (d + this.transformY) / 3 + \"px\")\r\n                }else if(-1 * (d + this.transformY) >= this.ulHeight-this.ulContainerHeight){\r\n                    let t  = this.ulContainerHeight - this.ulHeight\r\n                    this.translateY(this.ul, t + (d + this.transformY - t) /3  + \"px\")\r\n                }else{\r\n                this.translateY(this.ul,d + this.transformY +\"px\")\r\n                }\r\n            }\r\n    }\r\n    show() {\r\n        this.translateY(this.popBox,0)\r\n        this.mask.style.display = \"block\"\r\n        this.mask.style.opacity = \"0.5\"\r\n        document.body.addEventListener(\"touchmove\",this.moveEventFunc.bind(this))\r\n    }\r\n    hide() {\r\n        this.translateY(this.popBox,\"100%\")\r\n        this.mask.style.opacity = \"0\"\r\n        document.body.removeEventListener(\"touchmove\",this.moveEventFunc.bind(this))\r\n    }\r\n    translateY(obj,distance){\r\n            if (CSS && CSS.supports(\"transform-style\", \"preserve-3d\")) {\r\n                obj.style.transform = `translate3d(0,${distance},0)`\r\n            } else {\r\n                obj.style.transform = `translateY(${distance})`\r\n            }\r\n    }\r\n    $(s) {\r\n        return document.querySelector(s)\r\n    }\r\n    createList() {\r\n        let template = (element, index) =>\r\n            `<li class=\"country-li\">\r\n                <i class=\"country-icon country-icon-${parseInt(index)+1}\"></i>\r\n                <span class=\"country-name\">${element}</span>\r\n            </li>`\r\n        const countries = [].slice.call(this.countries)\r\n        let htmlStr = \"\"\r\n        countries.forEach((element, index) => {\r\n            htmlStr += template(element, index)\r\n        });\r\n        let ul = document.querySelector(\"#choose-country .country-ul\")\r\n        ul.innerHTML = htmlStr\r\n    }\r\n    addMaskTransition(){\r\n        this.mask.addEventListener(\"transitionend\",()=>{\r\n            let opacity = getComputedStyle(this.mask).getPropertyValue(\"opacity\")\r\n            if(opacity == 0){\r\n                this.mask.style.display = \"none\"\r\n            }\r\n        })\r\n    }\r\n}\r\n(new chooseCountry(arrayLike)).init()\r\n*/"],"file":"country.js"}