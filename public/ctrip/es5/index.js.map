{"version":3,"sources":["index.js"],"names":["Carousel","outer","document","querySelector","inner","current","next","timer","start","picWidth","canBeMoved","transitionEvent","style","transitionDuration","translate","offsetHeight","addTransition","cycle","addSlideControl","addEventListener","removeEventListener","e","pause","changedTouches","screenX","offsetWidth","removeTransition","distance","direction","CSS","supports","transform","location","setInterval","clearInterval","init","Search","$","s","indexPage","searchPage","searchBtn","input","url","noInput","inputExist","back","clear","result","hotList","visitBtn","compositionFlag","lastValue","onclick","display","focus","value","length","target","trim","test","fetchContent","ctrlKey","keyCode","clickOnLi","elem","className","dataset","title","fetch","then","parentElement","currentTarget","tagName","toLowerCase","href","hotListDisplay","getComputedStyle","getPropertyValue","searchResultDisplay","firstElementChild","console","log","htmlStr","res","json","d","data","i","price","type","word","districtname","zonename","star","innerHTML","r","catch"],"mappings":"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","sourcesContent":["/**\n *  implement carousel\n */\nclass Carousel {\n    constructor() {\n        this.outer = document.querySelector(\"#carousel\")\n        this.inner = document.querySelector(\"#carousel .inner\")\n        this.current = 1\n        this.next = 2\n        this.timer = null\n        this.start = null\n        this.picWidth = null\n        this.canBeMoved = true\n        this.transitionEvent = () => {\n            if (this.current >= 7) {\n                this.inner.style.transitionDuration = \"0s\"\n                this.translate(\"head\")\n                // force browser reflow\n                this.inner.offsetHeight\n                this.inner.style.transitionDuration = \"0.2s\"\n                this.next = 2\n                this.current = 1\n            }\n            if (this.current <= 0) {\n                this.inner.style.transitionDuration = \"0s\"\n                this.translate(\"tail\")\n                // force browser reflow\n                this.inner.offsetHeight\n                this.inner.style.transitionDuration = \"0.2s\"\n                this.next = 7\n                this.current = 6\n            }\n            this.canBeMoved = true\n        }\n    }\n    init() {\n        this.addTransition()\n        this.cycle()\n        this.addSlideControl()\n    }\n    addTransition() {\n        this.inner.addEventListener(\"transitionend\", this.transitionEvent)\n    }\n    removeTransition() {\n        this.inner.removeEventListener(\"transitionend\", this.transitionEvent)\n    }\n    addSlideControl() {\n        this.inner.addEventListener(\"touchstart\", (e) => {\n            this.pause()\n            this.start = e.changedTouches[0].screenX\n            this.picWidth = this.outer.offsetWidth\n            this.removeTransition()\n           this.inner.style.transitionDuration = \"0s\"\n           this.inner.offsetHeight\n            \n        })\n        this.inner.addEventListener(\"touchmove\", (e) => {\n            if (this.canBeMoved) {\n                let distance = e.changedTouches[0].screenX - this.start\n                this.translate(distance)\n            }\n        })\n        this.inner.addEventListener(\"touchend\", (e) => {\n            let distance = e.changedTouches[0].screenX - this.start\n            if (distance > 100) {\n                this.current--\n                this.next = this.current + 1\n            } else if (distance < -100) {\n                this.current++\n                this.next = this.current + 1\n            } else {}\n\n            this.addTransition()\n            this.translate(\"current\")\n           this.inner.style.transitionDuration = \"0.2s\"\n           this.inner.offsetHeight\n            this.cycle()\n\n        })\n    }\n    translate(direction) {\n        let translate = (distance) => {\n            if (CSS && CSS.supports(\"transform-style\", \"preserve-3d\")) {\n                this.inner.style.transform = `translate3d(${distance},0,0)`\n            } else {\n                this.inner.style.transform = `translateX(${distance})`\n            }\n        }\n        switch (direction) {\n            case \"next\":\n                {\n                    translate(`${-12.5 * this.next}%`)\n                    this.canBeMoved = false\n                    break\n                }\n            case \"current\":\n                {\n                    translate(`${-12.5 * this.current}%`)\n                    break\n                }\n            case \"head\":\n                {\n                    translate(\"-12.5%\")\n                    this.canBeMoved = false\n                    break\n                }\n            case \"tail\":\n                {\n                    translate(\"-75%\")\n                    this.canBeMoved = false\n                    break\n                }\n            default:\n                {\n                    let location = -1 * this.current * this.picWidth + direction\n                    translate(`${location}px`)\n\n                }\n        }\n    }\n    cycle() {\n        this.timer = setInterval(() => {\n            this.translate('next')\n            this.current = this.next\n            this.next++\n        }, 3000)\n    }\n    pause() {\n        clearInterval(this.timer)\n    }\n}\n\n(new Carousel()).init()\n\n\n/*\n ** fetch inform\n */\n\nclass Search {\n    constructor() {\n        this.$ = (s) => document.querySelector(s)\n        this.indexPage = this.$(\"#index-page\")\n        this.searchPage = this.$(\"#search-page\")\n        this.searchBtn = this.$(\"#header .search\")\n        this.input = this.$(\"#search-page .input\")\n        this.url = 'https://m.ctrip.com/restapi/h5api/searchapp/search?source=mobileweb&action=autocomplete&contentType=json&keyword='\n        this.noInput = this.$(\"#search-page .no-input\")\n        this.inputExist = this.$(\"#search-page .input-exist\")\n        this.back = this.$(\"#search-page .back\")\n        this.clear = this.$(\"#search-page .clear\")\n        this.result = this.$(\"#search-page .search-result\")\n        this.hotList = this.$(\"#search-page .hot-list\")\n        this.visitBtn = this.$(\".search-box .visit\")\n        this.compositionFlag = true\n        this.lastValue = null\n    }\n    init() {\n        this.searchBtn.onclick = () => {\n            this.indexPage.style.display = \"none\"\n            this.searchPage.style.display = \"block\"\n            this.input.focus()\n        }\n        this.back.onclick = () => {\n            this.indexPage.style.display = \"block\"\n            this.searchPage.style.display = \"none\"\n        }\n        this.clear.onclick = () => {\n            if (this.input.value.length !== 0) {\n                this.input.value = \"\"\n                this.noInput.style.display = \"block\"\n                this.inputExist.style.display = \"none\"\n            }\n        }\n        this.input.addEventListener(\"compositionstart\", () => {\n            this.compositionFlag = false\n        })\n        this.input.addEventListener(\"compositionend\", () => {\n            this.compositionFlag = true\n        })\n        this.input.addEventListener(\"keyup\", (e) => {\n            let value = e.target.value.trim()\n            if (value.length === 0 && /\\s/.test(e.target.value)) {\n                if (this.lastValue.length === 1 && this.lastValue.trim().length === 0) {\n                    return\n                }\n                this.fetchContent(\" \")\n            }\n            if (this.lastValue === value) {\n                return\n            }\n            if (this.compositionFlag) {\n                //ctrl+v ，激活两次keyup,一次ctrlKey为true，keyCode为86,一次ctrlKey为false,keyCode为ctrl的１７\n                if (e.ctrlKey && e.keyCode == 86) {\n                    return\n                }\n                this.fetchContent(value)\n            }\n            //汉字输入法输入一半时复制，firefox不支持，chrome支持\n            if ((!this.compositionFlag) && (e.ctrlKey && e.keyCode == 86)) {\n                this.fetchContent(value)\n            }\n        })\n        let clickOnLi = e => {\n            let elem = e.target\n            if (/item-btn|li-btn/.test(elem.className)) {\n                let value = elem.dataset.title\n                this.fetch(value)\n                    .then(() => {\n                        this.input.value = value\n                    })\n                return\n            }\n            if (/item-btn|li-btn/.test(elem.parentElement.className)) {\n                let value = elem.parentElement.dataset.title\n                this.fetch(value)\n                    .then(() => {\n                        this.input.value = value\n                    })\n                return\n            }\n            while (elem !== e.currentTarget) {\n                if (elem.tagName.toLowerCase() === \"li\") {\n                    location.href = elem.dataset.url\n                    return\n                }\n                elem = elem.parentElement\n            }\n        }\n\n        this.result.addEventListener(\"click\", clickOnLi)\n        this.hotList.addEventListener(\"click\", clickOnLi)\n\n        this.visitBtn.addEventListener(\"click\",()=>{\n            let hotListDisplay = getComputedStyle(this.noInput).getPropertyValue(\"display\")\n            let searchResultDisplay = getComputedStyle(this.inputExist).getPropertyValue(\"display\")\n\n            if(hotListDisplay === \"block\"){\n                location.href  = this.hotList.firstElementChild.dataset.url\n                return\n            }\n            if(searchResultDisplay === \"block\"){\n                location.href = this.result.firstElementChild.dataset.url\n            }\n        })\n    }\n    fetch(value) {\n        console.log('fetch', value);\n        let htmlStr = \"\"\n\n        return fetch(`${this.url}${value}`)\n            .then(res => res.json())\n            .then(res => {\n\n                let d = res.data\n                console.log('d', d);\n\n                for (let i = 0; i < d.length; i++) {\n                    if (d[i].price != null) {\n                        htmlStr +=\n                            `<li class=\"result-item\" data-url=${d[i].url}>\n                     <i class=\"result-icon ${d[i].type}\"></i>\n                     <p class=\"title\">\n                             <span class=\"main-title\">${d[i].word}</span>\n                        <span class=\"sub-title\">${d[i].districtname}<em>${d[i].zonename}</em></span>\n                     </p>\n                     <p class=\"price\">\n                         <span class=\"detailed\">${d[i].price}</span>\n                         <span class=\"level\">${d[i].star}</span>\n                     </p>\n                     <span class=\"item-btn\" data-title=${d[i].word}></span>\n                 </li>`\n                    } else {\n                        htmlStr +=\n                            `<li class=\"result-item\" data-url=${d[i].url}>\n                         <i class=\"result-icon ${d[i].type}\"></i>\n                         <div class=\"title\">\n                             <span class=\"main-title\">${d[i].word}</span>\n                             <span class=\"sub-title\">${d[i].districtname}</span>\n                         </div>\n                     <span class=\"item-btn\" data-title=${d[i].word}></span>\n                     </li>`\n                    }\n                }\n                this.result.innerHTML = htmlStr\n                this.noInput.style.display = \"none\"\n                this.inputExist.style.display = \"block\"\n            })\n            .then(r => {\n                this.lastValue = value\n            }).catch(e => {\n                console.log('e', e);\n            })\n    }\n\n    fetchContent(value) {\n        if (typeof (value) === \"string\" && value.length === 0) {\n            this.noInput.style.display = \"block\"\n            this.inputExist.style.display = \"none\"\n            this.lastValue = value\n        } else {\n            this.fetch(value)\n        }\n    }\n}\n(new Search()).init()"],"file":"index.js"}