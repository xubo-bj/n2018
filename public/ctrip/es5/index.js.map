{"version":3,"sources":["index.js"],"names":["Carousel","outer","document","querySelector","inner","current","next","timer","start","picWidth","canBeMoved","transitionEvent","style","transitionDuration","translate","offsetHeight","addTransitionEnd","cycle","addSlideControl","addEventListener","removeEventListener","e","pause","changedTouches","screenX","offsetWidth","removeTransitionEnd","distance","direction","CSS","supports","transform","location","setInterval","clearInterval","init","Search","$","s","indexPage","searchPage","searchBtn","input","url","noInput","inputExist","back","clear","result","hotList","visitBtn","compositionFlag","lastValue","onclick","display","focus","value","length","target","trim","test","fetchContent","ctrlKey","keyCode","clickOnLi","elem","className","dataset","title","fetch","then","parentElement","currentTarget","tagName","toLowerCase","href","hotListDisplay","getComputedStyle","getPropertyValue","searchResultDisplay","firstElementChild","console","log","htmlStr","res","json","d","data","i","price","type","word","districtname","zonename","star","innerHTML","r","catch"],"mappings":";;;;;;;;AAAA;;;IAGMA,Q;;;AACL,sBAAc;AAAA;;AAAA;;AACb,SAAKC,KAAL,GAAaC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAb;AACA,SAAKC,KAAL,GAAaF,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAb;AACA,SAAKE,OAAL,GAAe,CAAf;AACA,SAAKC,IAAL,GAAY,CAAZ;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,UAAL,GAAkB,IAAlB;;AACA,SAAKC,eAAL,GAAuB,YAAM;AAC5B,UAAI,KAAI,CAACN,OAAL,IAAgB,CAApB,EAAuB;AACtB,QAAA,KAAI,CAACD,KAAL,CAAWQ,KAAX,CAAiBC,kBAAjB,GAAsC,IAAtC;;AACA,QAAA,KAAI,CAACC,SAAL,CAAe,MAAf,EAFsB,CAGtB;;;AACA,QAAA,KAAI,CAACV,KAAL,CAAWW,YAAX;AACA,QAAA,KAAI,CAACX,KAAL,CAAWQ,KAAX,CAAiBC,kBAAjB,GAAsC,MAAtC;AACA,QAAA,KAAI,CAACP,IAAL,GAAY,CAAZ;AACA,QAAA,KAAI,CAACD,OAAL,GAAe,CAAf;AACA;;AACD,UAAI,KAAI,CAACA,OAAL,IAAgB,CAApB,EAAuB;AACtB,QAAA,KAAI,CAACD,KAAL,CAAWQ,KAAX,CAAiBC,kBAAjB,GAAsC,IAAtC;;AACA,QAAA,KAAI,CAACC,SAAL,CAAe,MAAf,EAFsB,CAGtB;;;AACA,QAAA,KAAI,CAACV,KAAL,CAAWW,YAAX;AACA,QAAA,KAAI,CAACX,KAAL,CAAWQ,KAAX,CAAiBC,kBAAjB,GAAsC,MAAtC;AACA,QAAA,KAAI,CAACP,IAAL,GAAY,CAAZ;AACA,QAAA,KAAI,CAACD,OAAL,GAAe,CAAf;AACA;;AACD,MAAA,KAAI,CAACK,UAAL,GAAkB,IAAlB;AACA,KApBD;AAqBA;;;;2BACM;AACN,WAAKM,gBAAL;AACA,WAAKC,KAAL;AACA,WAAKC,eAAL;AACA;;;uCACkB;AAClB,WAAKd,KAAL,CAAWe,gBAAX,CAA4B,eAA5B,EAA6C,KAAKR,eAAlD;AACA;;;0CACqB;AACrB,WAAKP,KAAL,CAAWgB,mBAAX,CAA+B,eAA/B,EAAgD,KAAKT,eAArD;AACA;;;sCACiB;AAAA;;AACjB,WAAKP,KAAL,CAAWe,gBAAX,CAA4B,YAA5B,EAA0C,UAAAE,CAAC,EAAI;AAC9C,QAAA,MAAI,CAACC,KAAL;;AACA,YAAI,MAAI,CAACjB,OAAL,KAAiB,CAAjB,IAAsB,MAAI,CAACA,OAAL,KAAiB,CAA3C,EAA8C;AAC7C,UAAA,MAAI,CAACG,KAAL,GAAaa,CAAC,CAACE,cAAF,CAAiB,CAAjB,EAAoBC,OAAjC;AACA,UAAA,MAAI,CAACf,QAAL,GAAgB,MAAI,CAACR,KAAL,CAAWwB,WAA3B;;AACA,UAAA,MAAI,CAACC,mBAAL;;AACA,UAAA,MAAI,CAACtB,KAAL,CAAWQ,KAAX,CAAiBC,kBAAjB,GAAsC,IAAtC;AACA,UAAA,MAAI,CAACT,KAAL,CAAWW,YAAX;AACA;AACD,OATD;AAUA,WAAKX,KAAL,CAAWe,gBAAX,CAA4B,WAA5B,EAAyC,UAAAE,CAAC,EAAI;AAC7C,YAAI,MAAI,CAAChB,OAAL,KAAiB,CAAjB,IAAsB,MAAI,CAACA,OAAL,KAAiB,CAA3C,EAA8C;AAC7C,cAAI,MAAI,CAACK,UAAT,EAAqB;AACpB,gBAAIiB,QAAQ,GAAGN,CAAC,CAACE,cAAF,CAAiB,CAAjB,EAAoBC,OAApB,GAA8B,MAAI,CAAChB,KAAlD;;AACA,YAAA,MAAI,CAACM,SAAL,CAAea,QAAf;AACA;AACD;AACD,OAPD;AAQA,WAAKvB,KAAL,CAAWe,gBAAX,CAA4B,UAA5B,EAAwC,UAAAE,CAAC,EAAI;AAC5C,YAAI,MAAI,CAAChB,OAAL,KAAiB,CAAjB,IAAsB,MAAI,CAACA,OAAL,KAAiB,CAA3C,EAA8C;AAC7C,cAAIsB,QAAQ,GAAGN,CAAC,CAACE,cAAF,CAAiB,CAAjB,EAAoBC,OAApB,GAA8B,MAAI,CAAChB,KAAlD;;AACA,cAAImB,QAAQ,GAAG,EAAf,EAAmB;AAClB,YAAA,MAAI,CAACtB,OAAL;AACA,YAAA,MAAI,CAACC,IAAL,GAAY,MAAI,CAACD,OAAL,GAAe,CAA3B;AACA,WAHD,MAGO,IAAIsB,QAAQ,GAAG,CAAC,EAAhB,EAAoB;AAC1B,YAAA,MAAI,CAACtB,OAAL;AACA,YAAA,MAAI,CAACC,IAAL,GAAY,MAAI,CAACD,OAAL,GAAe,CAA3B;AACA;;AACD,UAAA,MAAI,CAACW,gBAAL;;AACA,UAAA,MAAI,CAACF,SAAL,CAAe,SAAf;;AACA,UAAA,MAAI,CAACV,KAAL,CAAWQ,KAAX,CAAiBC,kBAAjB,GAAsC,MAAtC;AACA,UAAA,MAAI,CAACT,KAAL,CAAWW,YAAX;;AACA,UAAA,MAAI,CAACE,KAAL;AACA;AACD,OAhBD;AAiBA;;;8BACSW,S,EAAW;AAAA;;AACpB,UAAId,SAAS,GAAG,SAAZA,SAAY,CAAAa,QAAQ,EAAI;AAC3B,YAAIE,GAAG,IAAIA,GAAG,CAACC,QAAJ,CAAa,iBAAb,EAAgC,aAAhC,CAAX,EAA2D;AAC1D,UAAA,MAAI,CAAC1B,KAAL,CAAWQ,KAAX,CAAiBmB,SAAjB,yBAA4CJ,QAA5C;AACA,SAFD,MAEO;AACN,UAAA,MAAI,CAACvB,KAAL,CAAWQ,KAAX,CAAiBmB,SAAjB,wBAA2CJ,QAA3C;AACA;AACD,OAND;;AAOA,cAAQC,SAAR;AACC,aAAK,MAAL;AAAa;AACZd,YAAAA,SAAS,WAAI,CAAC,IAAD,GAAQ,KAAKR,IAAjB,OAAT;AACA,iBAAKI,UAAL,GAAkB,KAAlB;AACA;AACA;;AACD,aAAK,SAAL;AAAgB;AACfI,YAAAA,SAAS,WAAI,CAAC,IAAD,GAAQ,KAAKT,OAAjB,OAAT;AACA,iBAAKK,UAAL,GAAkB,KAAlB;AACA;AACA;;AACD,aAAK,MAAL;AAAa;AACZI,YAAAA,SAAS,CAAC,QAAD,CAAT;AACA,iBAAKJ,UAAL,GAAkB,KAAlB;AACA;AACA;;AACD,aAAK,MAAL;AAAa;AACZI,YAAAA,SAAS,CAAC,MAAD,CAAT;AACA,iBAAKJ,UAAL,GAAkB,KAAlB;AACA;AACA;;AACD;AAAS;AACR,gBAAIsB,SAAQ,GAAG,CAAC,CAAD,GAAK,KAAK3B,OAAV,GAAoB,KAAKI,QAAzB,GAAoCmB,SAAnD;;AACAd,YAAAA,SAAS,WAAIkB,SAAJ,QAAT;AACA;AAxBF;AA0BA;;;4BACO;AAAA;;AACP,WAAKzB,KAAL,GAAa0B,WAAW,CAAC,YAAM;AAC9B,QAAA,MAAI,CAACnB,SAAL,CAAe,MAAf;;AACA,QAAA,MAAI,CAACT,OAAL,GAAe,MAAI,CAACC,IAApB;AACA,QAAA,MAAI,CAACA,IAAL;AACA,OAJuB,EAIrB,IAJqB,CAAxB;AAKA;;;4BACO;AACP4B,MAAAA,aAAa,CAAC,KAAK3B,KAAN,CAAb;AACA;;;;;;AAGF,IAAIP,QAAJ,GAAemC,IAAf;AAEA;;;;IAIMC,M;;;AACL,oBAAc;AAAA;;AACb,SAAKC,CAAL,GAAS,UAAAC,CAAC;AAAA,aAAIpC,QAAQ,CAACC,aAAT,CAAuBmC,CAAvB,CAAJ;AAAA,KAAV;;AACA,SAAKC,SAAL,GAAiB,KAAKF,CAAL,CAAO,aAAP,CAAjB;AACA,SAAKG,UAAL,GAAkB,KAAKH,CAAL,CAAO,cAAP,CAAlB;AACA,SAAKI,SAAL,GAAiB,KAAKJ,CAAL,CAAO,iBAAP,CAAjB;AACA,SAAKK,KAAL,GAAa,KAAKL,CAAL,CAAO,qBAAP,CAAb;AACA,SAAKM,GAAL,GACC,mHADD;AAEA,SAAKC,OAAL,GAAe,KAAKP,CAAL,CAAO,wBAAP,CAAf;AACA,SAAKQ,UAAL,GAAkB,KAAKR,CAAL,CAAO,2BAAP,CAAlB;AACA,SAAKS,IAAL,GAAY,KAAKT,CAAL,CAAO,oBAAP,CAAZ;AACA,SAAKU,KAAL,GAAa,KAAKV,CAAL,CAAO,qBAAP,CAAb;AACA,SAAKW,MAAL,GAAc,KAAKX,CAAL,CAAO,6BAAP,CAAd;AACA,SAAKY,OAAL,GAAe,KAAKZ,CAAL,CAAO,wBAAP,CAAf;AACA,SAAKa,QAAL,GAAgB,KAAKb,CAAL,CAAO,oBAAP,CAAhB;AACA,SAAKc,eAAL,GAAuB,IAAvB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA;;;;2BACM;AAAA;;AACN,WAAKX,SAAL,CAAeY,OAAf,GAAyB,YAAM;AAC9B,QAAA,MAAI,CAACd,SAAL,CAAe3B,KAAf,CAAqB0C,OAArB,GAA+B,MAA/B;AACA,QAAA,MAAI,CAACd,UAAL,CAAgB5B,KAAhB,CAAsB0C,OAAtB,GAAgC,OAAhC;;AACA,QAAA,MAAI,CAACZ,KAAL,CAAWa,KAAX;AACA,OAJD;;AAKA,WAAKT,IAAL,CAAUO,OAAV,GAAoB,YAAM;AACzB,QAAA,MAAI,CAACd,SAAL,CAAe3B,KAAf,CAAqB0C,OAArB,GAA+B,OAA/B;AACA,QAAA,MAAI,CAACd,UAAL,CAAgB5B,KAAhB,CAAsB0C,OAAtB,GAAgC,MAAhC;AACA,OAHD;;AAIA,WAAKP,KAAL,CAAWM,OAAX,GAAqB,YAAM;AAC1B,YAAI,MAAI,CAACX,KAAL,CAAWc,KAAX,CAAiBC,MAAjB,KAA4B,CAAhC,EAAmC;AAClC,UAAA,MAAI,CAACf,KAAL,CAAWc,KAAX,GAAmB,EAAnB;AACA,UAAA,MAAI,CAACZ,OAAL,CAAahC,KAAb,CAAmB0C,OAAnB,GAA6B,OAA7B;AACA,UAAA,MAAI,CAACT,UAAL,CAAgBjC,KAAhB,CAAsB0C,OAAtB,GAAgC,MAAhC;AACA;AACD,OAND;;AAOA,WAAKZ,KAAL,CAAWvB,gBAAX,CAA4B,kBAA5B,EAAgD,YAAM;AACrD,QAAA,MAAI,CAACgC,eAAL,GAAuB,KAAvB;AACA,OAFD;AAGA,WAAKT,KAAL,CAAWvB,gBAAX,CAA4B,gBAA5B,EAA8C,YAAM;AACnD,QAAA,MAAI,CAACgC,eAAL,GAAuB,IAAvB;AACA,OAFD;AAGA,WAAKT,KAAL,CAAWvB,gBAAX,CAA4B,OAA5B,EAAqC,UAAAE,CAAC,EAAI;AACzC,YAAImC,KAAK,GAAGnC,CAAC,CAACqC,MAAF,CAASF,KAAT,CAAeG,IAAf,EAAZ;;AACA,YAAIH,KAAK,CAACC,MAAN,KAAiB,CAAjB,IAAsB,KAAKG,IAAL,CAAUvC,CAAC,CAACqC,MAAF,CAASF,KAAnB,CAA1B,EAAqD;AACpD,cACC,MAAI,CAACJ,SAAL,CAAeK,MAAf,KAA0B,CAA1B,IACA,MAAI,CAACL,SAAL,CAAeO,IAAf,GAAsBF,MAAtB,KAAiC,CAFlC,EAGE;AACD;AACA;;AACD,UAAA,MAAI,CAACI,YAAL,CAAkB,GAAlB;AACA;;AACD,YAAI,MAAI,CAACT,SAAL,KAAmBI,KAAvB,EAA8B;AAC7B;AACA;;AACD,YAAI,MAAI,CAACL,eAAT,EAA0B;AACzB;AACA,cAAI9B,CAAC,CAACyC,OAAF,IAAazC,CAAC,CAAC0C,OAAF,IAAa,EAA9B,EAAkC;AACjC;AACA;;AACD,UAAA,MAAI,CAACF,YAAL,CAAkBL,KAAlB;AACA,SApBwC,CAqBzC;;;AACA,YAAI,CAAC,MAAI,CAACL,eAAN,IAAyB9B,CAAC,CAACyC,OAA3B,IAAsCzC,CAAC,CAAC0C,OAAF,IAAa,EAAvD,EAA2D;AAC1D,UAAA,MAAI,CAACF,YAAL,CAAkBL,KAAlB;AACA;AACD,OAzBD;;AA0BA,UAAIQ,SAAS,GAAG,SAAZA,SAAY,CAAA3C,CAAC,EAAI;AACpB,YAAI4C,IAAI,GAAG5C,CAAC,CAACqC,MAAb;;AACA,YAAI,kBAAkBE,IAAlB,CAAuBK,IAAI,CAACC,SAA5B,CAAJ,EAA4C;AAC3C,cAAIV,KAAK,GAAGS,IAAI,CAACE,OAAL,CAAaC,KAAzB;;AACA,UAAA,MAAI,CAACC,KAAL,CAAWb,KAAX,EAAkBc,IAAlB,CAAuB,YAAM;AAC5B,YAAA,MAAI,CAAC5B,KAAL,CAAWc,KAAX,GAAmBA,KAAnB;AACA,WAFD;;AAGA;AACA;;AACD,YAAI,kBAAkBI,IAAlB,CAAuBK,IAAI,CAACM,aAAL,CAAmBL,SAA1C,CAAJ,EAA0D;AACzD,cAAIV,MAAK,GAAGS,IAAI,CAACM,aAAL,CAAmBJ,OAAnB,CAA2BC,KAAvC;;AACA,UAAA,MAAI,CAACC,KAAL,CAAWb,MAAX,EAAkBc,IAAlB,CAAuB,YAAM;AAC5B,YAAA,MAAI,CAAC5B,KAAL,CAAWc,KAAX,GAAmBA,MAAnB;AACA,WAFD;;AAGA;AACA;;AACD,eAAOS,IAAI,KAAK5C,CAAC,CAACmD,aAAlB,EAAiC;AAChC,cAAIP,IAAI,CAACQ,OAAL,CAAaC,WAAb,OAA+B,IAAnC,EAAyC;AACxC1C,YAAAA,QAAQ,CAAC2C,IAAT,GAAgBV,IAAI,CAACE,OAAL,CAAaxB,GAA7B;AACA;AACA;;AACDsB,UAAAA,IAAI,GAAGA,IAAI,CAACM,aAAZ;AACA;AACD,OAvBD;;AAyBA,WAAKvB,MAAL,CAAY7B,gBAAZ,CAA6B,OAA7B,EAAsC6C,SAAtC;AACA,WAAKf,OAAL,CAAa9B,gBAAb,CAA8B,OAA9B,EAAuC6C,SAAvC;AAEA,WAAKd,QAAL,CAAc/B,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC7C,YAAIyD,cAAc,GAAGC,gBAAgB,CACpC,MAAI,CAACjC,OAD+B,CAAhB,CAEnBkC,gBAFmB,CAEF,SAFE,CAArB;AAGA,YAAIC,mBAAmB,GAAGF,gBAAgB,CACzC,MAAI,CAAChC,UADoC,CAAhB,CAExBiC,gBAFwB,CAEP,SAFO,CAA1B;;AAIA,YAAIF,cAAc,KAAK,OAAvB,EAAgC;AAC/B5C,UAAAA,QAAQ,CAAC2C,IAAT,GAAgB,MAAI,CAAC1B,OAAL,CAAa+B,iBAAb,CAA+Bb,OAA/B,CAAuCxB,GAAvD;AACA;AACA;;AACD,YAAIoC,mBAAmB,KAAK,OAA5B,EAAqC;AACpC/C,UAAAA,QAAQ,CAAC2C,IAAT,GAAgB,MAAI,CAAC3B,MAAL,CAAYgC,iBAAZ,CAA8Bb,OAA9B,CAAsCxB,GAAtD;AACA;AACD,OAfD;AAgBA;;;;;;;;;;;;;gBACKa,K,EAAO;AAAA;;AACZyB,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB1B,KAArB;AACA,UAAI2B,OAAO,GAAG,EAAd;AAEA,aAAOd,KAAK,WAAI,KAAK1B,GAAT,SAAea,KAAf,EAAL,CACLc,IADK,CACA,UAAAc,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OADH,EAELf,IAFK,CAEA,UAAAc,GAAG,EAAI;AACZ,YAAIE,CAAC,GAAGF,GAAG,CAACG,IAAZ;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBI,CAAjB;;AAEA,aAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,CAAC,CAAC7B,MAAtB,EAA8B+B,CAAC,EAA/B,EAAmC;AAClC,cAAIF,CAAC,CAACE,CAAD,CAAD,CAAKC,KAAL,IAAc,IAAlB,EAAwB;AACvBN,YAAAA,OAAO,iDAAwCG,CAAC,CAACE,CAAD,CAAD,CAAK7C,GAA7C,4DACgC2C,CAAC,CAACE,CAAD,CAAD,CAAKE,IADrC,wHAG2CJ,CAAC,CAACE,CAAD,CAAD,CAAKG,IAHhD,wEAIqCL,CAAC,CAACE,CAAD,CAAD,CAAKI,YAJ1C,iBAI6DN,CAAC,CAACE,CAAD,CAAD,CAAKK,QAJlE,kJAOqCP,CAAC,CAACE,CAAD,CAAD,CAAKC,KAP1C,qEAQkCH,CAAC,CAACE,CAAD,CAAD,CAAKM,IARvC,0GAU4CR,CAAC,CAACE,CAAD,CAAD,CAAKG,IAVjD,qCAAP;AAYA,WAbD,MAaO;AACNR,YAAAA,OAAO,iDAAwCG,CAAC,CAACE,CAAD,CAAD,CAAK7C,GAA7C,gEACoC2C,CAAC,CAACE,CAAD,CAAD,CAAKE,IADzC,8HAG2CJ,CAAC,CAACE,CAAD,CAAD,CAAKG,IAHhD,6EAI0CL,CAAC,CAACE,CAAD,CAAD,CAAKI,YAJ/C,gHAM4CN,CAAC,CAACE,CAAD,CAAD,CAAKG,IANjD,yCAAP;AAQA;AACD;;AACD,QAAA,MAAI,CAAC3C,MAAL,CAAY+C,SAAZ,GAAwBZ,OAAxB;AACA,QAAA,MAAI,CAACvC,OAAL,CAAahC,KAAb,CAAmB0C,OAAnB,GAA6B,MAA7B;AACA,QAAA,MAAI,CAACT,UAAL,CAAgBjC,KAAhB,CAAsB0C,OAAtB,GAAgC,OAAhC;AACA,OAlCK,EAmCLgB,IAnCK,CAmCA,UAAA0B,CAAC,EAAI;AACV,QAAA,MAAI,CAAC5C,SAAL,GAAiBI,KAAjB;AACA,OArCK,EAsCLyC,KAtCK,CAsCC,UAAA5E,CAAC,EAAI;AACX4D,QAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiB7D,CAAjB;AACA,OAxCK,CAAP;AAyCA,K;;;iCAEYmC,K,EAAO;AACnB,UAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,CAACC,MAAN,KAAiB,CAAlD,EAAqD;AACpD,aAAKb,OAAL,CAAahC,KAAb,CAAmB0C,OAAnB,GAA6B,OAA7B;AACA,aAAKT,UAAL,CAAgBjC,KAAhB,CAAsB0C,OAAtB,GAAgC,MAAhC;AACA,aAAKF,SAAL,GAAiBI,KAAjB;AACA,OAJD,MAIO;AACN,aAAKa,KAAL,CAAWb,KAAX;AACA;AACD;;;;;;AAEF,IAAIpB,MAAJ,GAAaD,IAAb","sourcesContent":["/**\n *  implement carousel\n */\nclass Carousel {\n\tconstructor() {\n\t\tthis.outer = document.querySelector(\"#carousel\");\n\t\tthis.inner = document.querySelector(\"#carousel .inner\");\n\t\tthis.current = 1;\n\t\tthis.next = 2;\n\t\tthis.timer = null;\n\t\tthis.start = null;\n\t\tthis.picWidth = null;\n\t\tthis.canBeMoved = true;\n\t\tthis.transitionEvent = () => {\n\t\t\tif (this.current == 7) {\n\t\t\t\tthis.inner.style.transitionDuration = \"0s\";\n\t\t\t\tthis.translate(\"head\");\n\t\t\t\t// force browser reflow\n\t\t\t\tthis.inner.offsetHeight;\n\t\t\t\tthis.inner.style.transitionDuration = \"0.2s\";\n\t\t\t\tthis.next = 2;\n\t\t\t\tthis.current = 1;\n\t\t\t}\n\t\t\tif (this.current == 0) {\n\t\t\t\tthis.inner.style.transitionDuration = \"0s\";\n\t\t\t\tthis.translate(\"tail\");\n\t\t\t\t// force browser reflow\n\t\t\t\tthis.inner.offsetHeight;\n\t\t\t\tthis.inner.style.transitionDuration = \"0.2s\";\n\t\t\t\tthis.next = 7;\n\t\t\t\tthis.current = 6;\n\t\t\t}\n\t\t\tthis.canBeMoved = true;\n\t\t};\n\t}\n\tinit() {\n\t\tthis.addTransitionEnd();\n\t\tthis.cycle();\n\t\tthis.addSlideControl();\n\t}\n\taddTransitionEnd() {\n\t\tthis.inner.addEventListener(\"transitionend\", this.transitionEvent);\n\t}\n\tremoveTransitionEnd() {\n\t\tthis.inner.removeEventListener(\"transitionend\", this.transitionEvent);\n\t}\n\taddSlideControl() {\n\t\tthis.inner.addEventListener(\"touchstart\", e => {\n\t\t\tthis.pause();\n\t\t\tif (this.current !== 7 && this.current !== 0) {\n\t\t\t\tthis.start = e.changedTouches[0].screenX;\n\t\t\t\tthis.picWidth = this.outer.offsetWidth;\n\t\t\t\tthis.removeTransitionEnd();\n\t\t\t\tthis.inner.style.transitionDuration = \"0s\";\n\t\t\t\tthis.inner.offsetHeight;\n\t\t\t}\n\t\t});\n\t\tthis.inner.addEventListener(\"touchmove\", e => {\n\t\t\tif (this.current !== 7 && this.current !== 0) {\n\t\t\t\tif (this.canBeMoved) {\n\t\t\t\t\tlet distance = e.changedTouches[0].screenX - this.start;\n\t\t\t\t\tthis.translate(distance);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.inner.addEventListener(\"touchend\", e => {\n\t\t\tif (this.current !== 7 && this.current !== 0) {\n\t\t\t\tlet distance = e.changedTouches[0].screenX - this.start;\n\t\t\t\tif (distance > 70) {\n\t\t\t\t\tthis.current--;\n\t\t\t\t\tthis.next = this.current + 1;\n\t\t\t\t} else if (distance < -70) {\n\t\t\t\t\tthis.current++;\n\t\t\t\t\tthis.next = this.current + 1;\n\t\t\t\t}\n\t\t\t\tthis.addTransitionEnd();\n\t\t\t\tthis.translate(\"current\");\n\t\t\t\tthis.inner.style.transitionDuration = \"0.2s\";\n\t\t\t\tthis.inner.offsetHeight;\n\t\t\t\tthis.cycle();\n\t\t\t}\n\t\t});\n\t}\n\ttranslate(direction) {\n\t\tlet translate = distance => {\n\t\t\tif (CSS && CSS.supports(\"transform-style\", \"preserve-3d\")) {\n\t\t\t\tthis.inner.style.transform = `translate3d(${distance},0,0)`;\n\t\t\t} else {\n\t\t\t\tthis.inner.style.transform = `translateX(${distance})`;\n\t\t\t}\n\t\t};\n\t\tswitch (direction) {\n\t\t\tcase \"next\": {\n\t\t\t\ttranslate(`${-12.5 * this.next}%`);\n\t\t\t\tthis.canBeMoved = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"current\": {\n\t\t\t\ttranslate(`${-12.5 * this.current}%`);\n\t\t\t\tthis.canBeMoved = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"head\": {\n\t\t\t\ttranslate(\"-12.5%\");\n\t\t\t\tthis.canBeMoved = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"tail\": {\n\t\t\t\ttranslate(\"-75%\");\n\t\t\t\tthis.canBeMoved = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tlet location = -1 * this.current * this.picWidth + direction;\n\t\t\t\ttranslate(`${location}px`);\n\t\t\t}\n\t\t}\n\t}\n\tcycle() {\n\t\tthis.timer = setInterval(() => {\n\t\t\tthis.translate(\"next\");\n\t\t\tthis.current = this.next;\n\t\t\tthis.next++;\n\t\t}, 3000);\n\t}\n\tpause() {\n\t\tclearInterval(this.timer);\n\t}\n}\n\nnew Carousel().init();\n\n/*\n ** fetch inform\n */\n\nclass Search {\n\tconstructor() {\n\t\tthis.$ = s => document.querySelector(s);\n\t\tthis.indexPage = this.$(\"#index-page\");\n\t\tthis.searchPage = this.$(\"#search-page\");\n\t\tthis.searchBtn = this.$(\"#header .search\");\n\t\tthis.input = this.$(\"#search-page .input\");\n\t\tthis.url =\n\t\t\t\"https://m.ctrip.com/restapi/h5api/searchapp/search?source=mobileweb&action=autocomplete&contentType=json&keyword=\";\n\t\tthis.noInput = this.$(\"#search-page .no-input\");\n\t\tthis.inputExist = this.$(\"#search-page .input-exist\");\n\t\tthis.back = this.$(\"#search-page .back\");\n\t\tthis.clear = this.$(\"#search-page .clear\");\n\t\tthis.result = this.$(\"#search-page .search-result\");\n\t\tthis.hotList = this.$(\"#search-page .hot-list\");\n\t\tthis.visitBtn = this.$(\".search-box .visit\");\n\t\tthis.compositionFlag = true;\n\t\tthis.lastValue = null;\n\t}\n\tinit() {\n\t\tthis.searchBtn.onclick = () => {\n\t\t\tthis.indexPage.style.display = \"none\";\n\t\t\tthis.searchPage.style.display = \"block\";\n\t\t\tthis.input.focus();\n\t\t};\n\t\tthis.back.onclick = () => {\n\t\t\tthis.indexPage.style.display = \"block\";\n\t\t\tthis.searchPage.style.display = \"none\";\n\t\t};\n\t\tthis.clear.onclick = () => {\n\t\t\tif (this.input.value.length !== 0) {\n\t\t\t\tthis.input.value = \"\";\n\t\t\t\tthis.noInput.style.display = \"block\";\n\t\t\t\tthis.inputExist.style.display = \"none\";\n\t\t\t}\n\t\t};\n\t\tthis.input.addEventListener(\"compositionstart\", () => {\n\t\t\tthis.compositionFlag = false;\n\t\t});\n\t\tthis.input.addEventListener(\"compositionend\", () => {\n\t\t\tthis.compositionFlag = true;\n\t\t});\n\t\tthis.input.addEventListener(\"keyup\", e => {\n\t\t\tlet value = e.target.value.trim();\n\t\t\tif (value.length === 0 && /\\s/.test(e.target.value)) {\n\t\t\t\tif (\n\t\t\t\t\tthis.lastValue.length === 1 &&\n\t\t\t\t\tthis.lastValue.trim().length === 0\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.fetchContent(\" \");\n\t\t\t}\n\t\t\tif (this.lastValue === value) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.compositionFlag) {\n\t\t\t\t//ctrl+v ，激活两次keyup,一次ctrlKey为true，keyCode为86,一次ctrlKey为false,keyCode为ctrl的１７\n\t\t\t\tif (e.ctrlKey && e.keyCode == 86) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.fetchContent(value);\n\t\t\t}\n\t\t\t//汉字输入法输入一半时复制，firefox不支持，chrome支持\n\t\t\tif (!this.compositionFlag && e.ctrlKey && e.keyCode == 86) {\n\t\t\t\tthis.fetchContent(value);\n\t\t\t}\n\t\t});\n\t\tlet clickOnLi = e => {\n\t\t\tlet elem = e.target;\n\t\t\tif (/item-btn|li-btn/.test(elem.className)) {\n\t\t\t\tlet value = elem.dataset.title;\n\t\t\t\tthis.fetch(value).then(() => {\n\t\t\t\t\tthis.input.value = value;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (/item-btn|li-btn/.test(elem.parentElement.className)) {\n\t\t\t\tlet value = elem.parentElement.dataset.title;\n\t\t\t\tthis.fetch(value).then(() => {\n\t\t\t\t\tthis.input.value = value;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twhile (elem !== e.currentTarget) {\n\t\t\t\tif (elem.tagName.toLowerCase() === \"li\") {\n\t\t\t\t\tlocation.href = elem.dataset.url;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telem = elem.parentElement;\n\t\t\t}\n\t\t};\n\n\t\tthis.result.addEventListener(\"click\", clickOnLi);\n\t\tthis.hotList.addEventListener(\"click\", clickOnLi);\n\n\t\tthis.visitBtn.addEventListener(\"click\", () => {\n\t\t\tlet hotListDisplay = getComputedStyle(\n\t\t\t\tthis.noInput\n\t\t\t).getPropertyValue(\"display\");\n\t\t\tlet searchResultDisplay = getComputedStyle(\n\t\t\t\tthis.inputExist\n\t\t\t).getPropertyValue(\"display\");\n\n\t\t\tif (hotListDisplay === \"block\") {\n\t\t\t\tlocation.href = this.hotList.firstElementChild.dataset.url;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (searchResultDisplay === \"block\") {\n\t\t\t\tlocation.href = this.result.firstElementChild.dataset.url;\n\t\t\t}\n\t\t});\n\t}\n\tfetch(value) {\n\t\tconsole.log(\"fetch\", value);\n\t\tlet htmlStr = \"\";\n\n\t\treturn fetch(`${this.url}${value}`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(res => {\n\t\t\t\tlet d = res.data;\n\t\t\t\tconsole.log(\"d\", d);\n\n\t\t\t\tfor (let i = 0; i < d.length; i++) {\n\t\t\t\t\tif (d[i].price != null) {\n\t\t\t\t\t\thtmlStr += `<li class=\"result-item\" data-url=${d[i].url}>\n                     <i class=\"result-icon ${d[i].type}\"></i>\n                     <p class=\"title\">\n                             <span class=\"main-title\">${d[i].word}</span>\n                        <span class=\"sub-title\">${d[i].districtname}<em>${d[i].zonename}</em></span>\n                     </p>\n                     <p class=\"price\">\n                         <span class=\"detailed\">${d[i].price}</span>\n                         <span class=\"level\">${d[i].star}</span>\n                     </p>\n                     <span class=\"item-btn\" data-title=${d[i].word}></span>\n                 </li>`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtmlStr += `<li class=\"result-item\" data-url=${d[i].url}>\n                         <i class=\"result-icon ${d[i].type}\"></i>\n                         <div class=\"title\">\n                             <span class=\"main-title\">${d[i].word}</span>\n                             <span class=\"sub-title\">${d[i].districtname}</span>\n                         </div>\n                     <span class=\"item-btn\" data-title=${d[i].word}></span>\n                     </li>`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.result.innerHTML = htmlStr;\n\t\t\t\tthis.noInput.style.display = \"none\";\n\t\t\t\tthis.inputExist.style.display = \"block\";\n\t\t\t})\n\t\t\t.then(r => {\n\t\t\t\tthis.lastValue = value;\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tconsole.log(\"e\", e);\n\t\t\t});\n\t}\n\n\tfetchContent(value) {\n\t\tif (typeof value === \"string\" && value.length === 0) {\n\t\t\tthis.noInput.style.display = \"block\";\n\t\t\tthis.inputExist.style.display = \"none\";\n\t\t\tthis.lastValue = value;\n\t\t} else {\n\t\t\tthis.fetch(value);\n\t\t}\n\t}\n}\nnew Search().init();\n"],"file":"index.js"}